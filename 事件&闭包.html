<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>js绑定事件的几种方式</title>
		<style type="text/css">
		ol li{
			padding: 2px;
			margin: 2px;
		}
		</style>
	</head>
	<body>
	<ol>
		<li><button id="btn1">写在元素中的事件绑定</button></li>
		<li><button id="btn2">通过js绑定到dom的方式</button></li>
		<li><button id="btn3">通过attachEvent绑定</button></li>
		<li><button id="btn31">移除attachEvent绑定的事件</button></li>
		<li><button id="btn4">通过for、event为元素绑定事件（少见）</button></li>
	</ol>
		<script type="text/javascript">
		//闭包
		var lis  = document.getElementsByTagName('li')
		for(var i = 0, len = lis.length; i < len;i++){
			(function(m){
				lis[i].onclick = function(){alert(m+1)}
			})(i)
		}
		
		/*var btn2=document.getElementById('btn2'),
		    btn3=document.getElementById('btn3'),
		    btn4=document.getElementById('btn4'),
		    btn31=document.getElementById('btn31');
		btn2.onclick=function (e) {
			e=e||window.event;
			console.log('target:', e.target || e.srcElement);
		}
		function addEvent(obj,type,fn){//事件注册
			if(obj.attachEvent){
				console.log('attachEvent');
				obj.attachEvent('on'+type,fn);
			}else{
				console.log('addEventListener');
				obj.addEventListener(type,fn,false);
			}
		}
		function removeEvent(obj,type,fn){
			if(obj.detachEvent){
				obj.detachEvent('on'+type,fn);
			}else{
				obj.removeEventListener(type,fn,false);
			}
			console.log("removeEvent:",fn);
		}
		function fn1(){
			console.log('通过addEvent绑定事件1')
		}
		function fn2(){
			console.log('通过addEvent绑定事件2')
		}
		addEvent(btn3,'click',fn1);
		addEvent(btn3,'click',fn2);
		addEvent(btn31,'click',function(){removeEvent(btn3,'click',fn1)});
		function display(e){
			var el=e.target||e.srcElement;
			if(el.style.display=='block'){
				console.log("tohide");
				el.style.display='none';
			}else{
				el.style.display='block';
				console.log('toshow');
			}
		}*/
		</script>
		<script for="btn4" event="onclick">
		(function(){alert(2)})()
		 display();
		}
		</script>
	</body>
</html>